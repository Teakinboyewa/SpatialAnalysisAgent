tool_ID = "qgis:randomselectionwithinsubsets"
tool_name = "Random selection within subsets"
brief_description = "Takes a vector layer and selects a subset of its features. No new layer is generated by this algorithm."
full_description = """Takes a vector layer and selects a subset of its features. No new layer is generated by this algorithm.
The subset is defined randomly, based on feature IDs, using a percentage or count value to define the total number of features in the subset.
The percentage/count value is not applied to the whole layer, but instead to each category.
Categories are defined according to a given attribute, which is also specified as an input parameter for the algorithm.
No new outputs are created.
Default menu: Vector ► Research Tools"""
parameters = """
INPUT: Input layer. Vector layer to select features in. Type: [vector: any] 
FIELD: 
ID field. Category of the input layer to select the features from. Type: [tablefield: any] 
METHOD: Method. Random selection method. One of: 0 — Number of selected features 1 — Percentage of selected features. Type: [enumeration] Default: 0 
NUMBER: Number/percentage of selected features. Number or percentage of features to select. Type: [number] Default: 10 outputs = 
INPUT: Input layer. The input layer with features selected. Type: [same as input]
"""
code_example = """
import processing
from qgis.core import QgsVectorLayer, QgsProject

def random_selection_within_subsets():
    # Define the input and output paths
    input_layer_path = \"""D:/Data/Your_Shapes.shp\"
    output_path = \"D:/workspace_directory/random_selection_output.shp\"

    # Load the input layer
    input_layer = QgsVectorLayer(input_layer_path, \"Input Layer\", \"ogr\")

    # Define the parameters
    parameters = {
        'INPUT': input_layer_path,
        'FIELD': 'your_field_name',
        'METHOD': 0,  # 0 — Number of selected features, 1 — Percentage of selected features
        'NUMBER': 10,
        'OUTPUT': output_path
    }

    # Perform the random selection within subsets operation
    result = processing.run(\"qgis:randomselectionwithinsubsets\", parameters)

    # Load the resulting layer
    output_layer = QgsVectorLayer(result['OUTPUT'], 'Random_Selection_Output', 'ogr')
    QgsProject.instance().addMapLayer(output_layer)

# Execute the function
random_selection_within_subsets()"""